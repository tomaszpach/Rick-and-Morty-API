(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{306:function(e,t,n){"use strict";var r=n(7),a=n.n(r),o=n(4),i=n.n(o),c=n(32),u=n.n(c),s=n(87),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=l(this,e.call.apply(e,[this].concat(o))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!f(e)){e.preventDefault();var t=r.context.router.history,n=r.props,a=n.replace,o=n.to;a?t.replace(o):t.push(o)}},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["replace","to","innerRef"]);u()(this.context.router,"You should not use <Link> outside a <Router>"),u()(void 0!==t,'You must specify the "to" property');var o=this.context.router.history,i="string"==typeof t?Object(s.b)(t,null,null,o.location):t,c=o.createHref(i);return a.a.createElement("a",p({},r,{onClick:this.handleClick,href:c,ref:n}))},t}(a.a.Component);y.propTypes={onClick:i.a.func,target:i.a.string,replace:i.a.bool,to:i.a.oneOfType([i.a.string,i.a.object]).isRequired,innerRef:i.a.oneOfType([i.a.string,i.a.func])},y.defaultProps={replace:!1},y.contextTypes={router:i.a.shape({history:i.a.shape({push:i.a.func.isRequired,replace:i.a.func.isRequired,createHref:i.a.func.isRequired}).isRequired}).isRequired},t.a=y},327:function(e,t,n){"use strict";n.r(t);var r=n(7),a=n.n(r),o=n(300),i=n.n(o),c=n(306),u=function(e){var t=e.name;return a.a.createElement("h2",null,t)},s=function(e){var t=e.image,n=e.name;return a.a.createElement("img",{src:t,alt:n})},p=n(61),l=function(e){var t=e.name,n=e.image,r=(e.species,e.gender,e.id),o=t.replace(/\s/g,"_");return a.a.createElement(c.a,{"data-for":o,"data-id":r,to:"".concat(p.b,"character/").concat(r)},a.a.createElement("div",{className:"character-card"},a.a.createElement(s,{image:n,name:t}),a.a.createElement("div",{className:"details"},a.a.createElement(u,{name:t}))))},f=function(){return a.a.createElement("div",{className:"async-status-wrapper"},a.a.createElement("p",null,"Wystąpił błąd :( Spróbuj ponownie później"))},y=function(e){var t=e.characters,n=e.error;e.loading;return n?a.a.createElement(f,null):a.a.createElement("div",{className:"character-cards-wrapper"},t.map(function(e){var t=e.name,n=e.image,r=(e.species,e.gender,e.id);return a.a.createElement(l,{name:t,image:n,id:r,key:r})}))},h=function(e){var t=e.page,n=e.getResults;return a.a.createElement("div",null,a.a.createElement("button",{"data-page":t,onClick:function(){return n()}},"prev page (",t,")"),a.a.createElement("button",{"data-page":t,onClick:function(){return n("next")}},"next page (",t,")"))};function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=b(this,g(t).call(this,e))).state={characters:[],character:[],data:[],page:parseInt(n.props.id,10)||1,loading:!0,error:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,r["Component"]),function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(t,[{key:"updateWindowHistory",value:function(){this.props.history.push("".concat(p.b,"page/").concat(this.state.page))}},{key:"getResultsFromApi",value:function(){var e=this;this.setState({loading:!0}),i.a.get("".concat(p.a,"?page=").concat(this.state.page)).then(function(t){var n=t.data,r=n.results,a=n.info;e.setState({characters:r,data:a,loading:!1})}).catch(function(t){e.setState({error:t})}),this.updateWindowHistory()}},{key:"getPageResults",value:function(e){var t=this;"next"===e&&this.state.page<this.state.data.pages&&this.setState({page:this.state.page+1},function(){t.getResultsFromApi(),t.updateWindowHistory()}),"next"!==e&&this.state.page>1&&this.setState({page:this.state.page-1},function(){t.getResultsFromApi(),t.updateWindowHistory()})}},{key:"updatePage",value:function(e){this.setState({page:parseInt(e.target.value,10)})}},{key:"componentDidMount",value:function(){this.getResultsFromApi()}},{key:"render",value:function(){var e=this,t=this.state,n=t.characters,r=t.error,o=t.loading,i=t.page;return a.a.createElement("div",null,a.a.createElement("input",{type:"number",min:1,max:this.state.data.pages,value:this.state.page,onChange:function(t){return e.updatePage(t)}}),a.a.createElement("button",{onClick:function(){return e.getResultsFromApi()}},"change!"),a.a.createElement(h,{page:i,getResults:function(t){return e.getPageResults(t)}}),a.a.createElement(y,{characters:n,error:r,loading:o}))}}]),t}();function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),j(this,k(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,r["Component"]),function(e,t,n){t&&E(e.prototype,t),n&&E(e,n)}(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"characters-list"},a.a.createElement(w,{history:this.props.history,id:this.props.match.params.id}))}}]),t}();t.default=_}}]);